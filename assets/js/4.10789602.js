(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{145:function(t,e,a){t.exports=a.p+"assets/img/mitk_12.829064c0.png"},146:function(t,e,a){t.exports=a.p+"assets/img/mitk_13.7f4405e5.png"},147:function(t,e,a){t.exports=a.p+"assets/img/mitk_14.7f4405e5.png"},148:function(t,e,a){t.exports=a.p+"assets/img/mitk_15.edadbc59.png"},149:function(t,e,a){t.exports=a.p+"assets/img/mitk_16.39b03bc9.png"},150:function(t,e,a){t.exports=a.p+"assets/img/mitk_17.83e3c676.png"},159:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"《mitk-linux编译教程》"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#《mitk-linux编译教程》","aria-hidden":"true"}},[t._v("#")]),t._v(" 《MITK Linux编译教程》")]),t._v(" "),r("div",{staticClass:"tip custom-block"},[r("p",{staticClass:"custom-block-title"},[t._v("关于本教程")]),t._v(" "),r("p",[t._v("本篇博客介绍MITK平台在Linux下编译的方法，由于网上已经有很多教程了，本不想重复造轮子，但自己在编译过程中遇到了一些其他人没有遇到过的问题，在此记录下来，帮助大家。")])]),t._v(" "),r("div",{staticClass:"tip custom-block"},[r("p",{staticClass:"custom-block-title"},[t._v("编译")]),t._v(" "),r("p",[t._v("MITK有源码目录，与superbuild目录，编译好的程序中一切修改都是对MITK源码目录中的文件进行的修改，因此即使编译了两份程序，如果共用的是同一份源码目录，那么是一样的")])]),t._v(" "),r("p",[r("em",[t._v("参考博客（请结合本文与以下博客学习）"),r("br")]),t._v(" "),r("em",[r("a",{attrs:{href:"https://blog.csdn.net/qq_26477745/article/details/83934163",target:"_blank",rel:"noopener noreferrer"}},[t._v("VS2017+Qt5.9.6+MITK-2016.11编译与安装-亲测有效2018-11-10"),r("OutboundLink")],1),r("br")]),t._v(" "),r("em",[r("a",{attrs:{href:"https://neurita.github.io/how_to_compile_mitk_on_ubuntu",target:"_blank",rel:"noopener noreferrer"}},[t._v("How to compile MITK on Ubuntu"),r("OutboundLink")],1),r("br")]),t._v(" "),r("em",[r("a",{attrs:{href:"https://wangchi.art/2017/03/09/Install-MITK-in-Ubuntu16-04LTS/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install MITK in Ubuntu16.04LTS"),r("OutboundLink")],1),r("br")]),t._v(" "),r("em",[r("a",{attrs:{href:"http://blog.51cto.com/weiyuqingcheng/2347996",target:"_blank",rel:"noopener noreferrer"}},[t._v("MITK: 编译过程"),r("OutboundLink")],1),r("br")]),t._v(" "),r("em",[t._v("MITK交流群：242330546"),r("br")]),t._v("\n除此之外，我在解决问题过程中还查阅过很多资料，就不一一列举了，将在后文中讨论，在此感谢各位dalao们分享出自己的编译经验！"),r("br")]),t._v(" "),r("h2",{attrs:{id:"编译前注意事项"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编译前注意事项","aria-hidden":"true"}},[t._v("#")]),t._v(" 编译前注意事项")]),t._v(" "),r("div",{staticClass:"warning custom-block"},[r("p",[t._v("在开始编译前，请先确保以下软件能够正常运行，qtcreator能够创建项目并构建运行")])]),t._v(" "),r("h3",{attrs:{id:"软件版本注意"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#软件版本注意","aria-hidden":"true"}},[t._v("#")]),t._v(" 软件版本注意")]),t._v(" "),r("p",[t._v("以下列出我使用的各软件版本，软件安装配置过程不再赘述，请参考文章开头链接：")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("软件列表")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("cmake-3.14.0")])]),t._v(" "),r("tr",[r("td",[t._v("qt 5.12.1")])]),t._v(" "),r("tr",[r("td",[t._v("mitk git版本号"),r("code",[t._v("d265101b5e7102912b808302a0cf7e73784d8299")])])]),t._v(" "),r("tr",[r("td",[t._v("git 2.17.1")])]),t._v(" "),r("tr",[r("td",[t._v("ubuntu 18.04LTS")])])])]),t._v(" "),r("p",[t._v("只要满足\n"),r("em",[r("a",{attrs:{href:"http://docs.mitk.org/2018.04/BuildInstructionsPage.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Build Instructions"),r("OutboundLink")],1)]),t._v("\n中的条件，一般不会出问题，MITK使用git下载即可"),r("br"),t._v(" "),r("code",[t._v("git clone https://phabricator.mitk.org/source/mitk.git MITK")]),r("br"),t._v("\n此命令会默认下载master分支上最新的节点，但如果你觉得该版本无法编译，可以切换到我编译成功的版本("),r("code",[t._v("d265101b5e7102912b808302a0cf7e73784d8299")]),t._v(")试一试，方法为："),r("br")]),t._v(" "),r("ol",[r("li",[r("code",[t._v("git branch my_work d265101b5e")]),t._v(" 创建my_work分支，指向给该节点"),r("br")]),t._v(" "),r("li",[r("code",[t._v("git checkout my_work")]),t._v(" 切换到my_work分支，此时本地版本已经变为"),r("code",[t._v("d265101d5e")]),t._v("这个版本了"),r("br")])]),t._v(" "),r("h3",{attrs:{id:"环境变量配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#环境变量配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境变量配置")]),t._v(" "),r("p",[t._v("在开始编译前，请根据自己的目录自行调整,追加到~/.bashrc文件")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("export PATH=$PATH:/opt/cmake-3.14.0-rcl-Linux-x86_64/bin\nexport QTDIR=/opt/Qt5.12.1/5.12.1\nexport PATH=$QTDIR/gcc_64/bin:$PATH\nexport LD_LIBRARY_PATH=$QTDIR/gcc_64/lib:$LD_LIBRARY_PATH \n")])])]),r("h3",{attrs:{id:"依赖包"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#依赖包","aria-hidden":"true"}},[t._v("#")]),t._v(" 依赖包")]),t._v(" "),r("p",[t._v("在开始编译前提前安装"),r("br"),t._v(" "),r("code",[t._v("libgl1-mesa-dev libxrender1 libxkbcommon-x11 mesa-common-dev libglu1-mesa-dev libtiff5-dev libwrap0-dev libxt-dev libnss3 libasound2 libxi-dev gdb gcc g++")])]),t._v(" "),r("h2",{attrs:{id:"编译流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编译流程","aria-hidden":"true"}},[t._v("#")]),t._v(" 编译流程")]),t._v(" "),r("blockquote",[r("p",[t._v("以下我使用的是WSL（bash on windows，版本为Ubuntu18.04LTS)配合X410进行演示的，与实际Linux下安装并无差异")])]),t._v(" "),r("h3",{attrs:{id:"_1-cmake生成项目"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-cmake生成项目","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. CMake生成项目")]),t._v(" "),r("h4",{attrs:{id:"_1-1-创建mitk-superbuild文件夹，第一次configure设置编译器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-创建mitk-superbuild文件夹，第一次configure设置编译器","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1. 创建MITK-superbuild文件夹，第一次configure设置编译器")]),t._v(" "),r("p",[r("img",{attrs:{src:a(145),alt:""}})]),t._v(" "),r("h4",{attrs:{id:"_1-2-勾选你需要的配置，再次configure至没有红色条"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-勾选你需要的配置，再次configure至没有红色条","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2. 勾选你需要的配置，再次configure至没有红色条")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("MITK_BUILD_EXAMPLES")]),t._v("：MITK的几个简单插件例子，建议勾选以供学习")]),t._v(" "),r("li",[r("code",[t._v("MITK_BUILD_ALLPLUGINS")]),t._v("：MITK的所有插件，建议勾选\n"),r("img",{attrs:{src:a(146),alt:""}})])]),t._v(" "),r("h4",{attrs:{id:"_1-3-generate"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-generate","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.3. generate")]),t._v(" "),r("p",[r("img",{attrs:{src:a(147),alt:""}})]),t._v(" "),r("h3",{attrs:{id:"_2-make"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-make","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. make")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("cd ~/MITK-superbuild\nmake -j6\n")])])]),r("p",[t._v("该步骤可能会出现错误，但由于是多线程，其中一个线程运行错误，其他线程会运行完毕才会停止，导致错误信息被刷屏，因此make failed后继续多次"),r("code",[t._v("make -j6")]),t._v("，直至make停止在错误处无法继续，然后根据信息解决错误再继续make")]),t._v(" "),r("p",[t._v("其中我遇到的问题为 "),r("code",[t._v("arith.h文件没有#endif")]),t._v(",对比windows版本的文件，具体出错原因不知，但我发现直接手动给文件添加#endif也是可以的，添加后继续make即可\n"),r("img",{attrs:{src:a(148),alt:""}})]),t._v(" "),r("h3",{attrs:{id:"_3-运行软件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-运行软件","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 运行软件")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("./MITK-superbuild/MITK-build/bin/MitkWorkbench\n")])])]),r("p",[r("img",{attrs:{src:a(149),alt:""}}),t._v("\n在未使用root权限运行时，发现无法写入数据库，因此更改该文件权限")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("sudo chmod 777 /home/yi-yezi/.local/share/DKFZ/MITK Workbench_774235156/plugins.db\n")])])]),r("p",[t._v("之后再次运行，如果没有安装完上文中所给出的依赖包，会报错，安装完成后，即可成功运行\n"),r("img",{attrs:{src:a(150),alt:""}})])])},[],!1,null,null,null);e.default=s.exports}}]);