(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{124:function(s,t,a){s.exports=a.p+"assets/img/dst_1.6c7e9c5c.png"},125:function(s,t,a){s.exports=a.p+"assets/img/dst_2.6847ce9c.png"},126:function(s,t,a){s.exports=a.p+"assets/img/dst_3.4cc7a822.png"},127:function(s,t){s.exports="data:image/png;base64,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"},128:function(s,t,a){s.exports=a.p+"assets/img/dst_6.dabbb0f5.png"},161:function(s,t,a){"use strict";a.r(t);var e=a(0),r=Object(e.a)({},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"《饥荒独立服务器搭建》"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#《饥荒独立服务器搭建》","aria-hidden":"true"}},[s._v("#")]),s._v(" 《饥荒独立服务器搭建》")]),s._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[s._v("关于本章")]),s._v(" "),e("p",[s._v("饥荒服务器商Klei的服务器在国内不是很友好，客机体验极差，因此在云服务器上搭建一个独立的服务器是很好的选择，")])]),s._v(" "),e("h2",{attrs:{id:"软件版本注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软件版本注意","aria-hidden":"true"}},[s._v("#")]),s._v(" 软件版本注意")]),s._v(" "),e("p",[s._v("以下列出我使用的各软件版本")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("软件列表")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("ubuntu 18.04LTS")])]),s._v(" "),e("tr",[e("td",[s._v("steamcmd")])])])]),s._v(" "),e("h2",{attrs:{id:"游戏准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#游戏准备","aria-hidden":"true"}},[s._v("#")]),s._v(" 游戏准备")]),s._v(" "),e("h3",{attrs:{id:"_1-游戏建档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-游戏建档","aria-hidden":"true"}},[s._v("#")]),s._v(" 1. 游戏建档")]),s._v(" "),e("p",[s._v("打开游戏，新建一个档，配置好游戏选项以及勾选需要的mod,生成世界\n"),e("img",{staticStyle:{zoom:"67%"},attrs:{src:a(124)}}),e("br"),s._v("\n在游戏开始界面打开"),e("code",[s._v("数据")]),s._v("即可进入存档目录，根据建档时间找到相应的档目录即可,该档用于后续服务器端配置\n"),e("img",{staticStyle:{zoom:"67%"},attrs:{src:a(125)}}),e("br")]),s._v(" "),e("h3",{attrs:{id:"_2-新建并备份服务器密钥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-新建并备份服务器密钥","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.新建并备份服务器密钥")]),s._v(" "),e("p",[s._v("在游戏开始界面打开"),e("code",[s._v("账号")]),s._v("->"),e("code",[s._v("游戏")]),s._v("->"),e("code",[s._v("饥荒联机版的游戏服务器")]),s._v("，添加服务器并备份服务器密钥\n"),e("img",{staticStyle:{zoom:"67%"},attrs:{src:a(126)}}),e("br")]),s._v(" "),e("h3",{attrs:{id:"_3-备份用户id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-备份用户id","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.备份用户ID")]),s._v(" "),e("p",[e("img",{staticStyle:{zoom:"67%"},attrs:{src:a(127)}}),e("br")]),s._v(" "),e("h2",{attrs:{id:"服务器端配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务器端配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 服务器端配置")]),s._v(" "),e("h3",{attrs:{id:"_1-安装steamcmd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装steamcmd","aria-hidden":"true"}},[s._v("#")]),s._v(" 1.安装"),e("code",[s._v("steamcmd")])]),s._v(" "),e("blockquote",[e("p",[s._v("steamcmd是一个用于安装和更新steam上各种专用服务器的官方客户端")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -m steam "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#为了使用安全，以root权限创建steam用户")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" /home/steam\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository multiverse\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dpkg --add-architecture i386\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" lib32gcc1 steamcmd \n")])])]),e("h3",{attrs:{id:"_2-进入steamcmd，安装饥荒联机版服务器客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-进入steamcmd，安装饥荒联机版服务器客户端","aria-hidden":"true"}},[s._v("#")]),s._v(" 2. 进入"),e("code",[s._v("steamcmd")]),s._v("，安装饥荒联机版服务器客户端")]),s._v(" "),e("p",[s._v("登陆")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("./steamcmd.sh\nlogin anonymous "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 匿名用户登陆，需要账户则login <username>")]),s._v("\n")])])]),e("p",[s._v("下载专用服务器")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("force_install_dir "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/dontstarvetogether_dedicated_server "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置专用服务器下载的位置")]),s._v("\napp_update 343050 validate "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装并验证软件版本 app_update <app_id> [-beta <betaname>] [-betapassword <password>] [validate]")]),s._v("\nquit\n")])])]),e("div",{staticClass:"warning custom-block"},[e("p",[s._v("需要注意饥荒游戏更新后，若专用服务器软件未更新，当开启饥荒服务器时，游戏上是搜索不到服务器的，需要再一次执行上述安装的命令检查更新后再重新启动服务器")])]),s._v(" "),e("h3",{attrs:{id:"_3-上传游戏档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-上传游戏档","aria-hidden":"true"}},[s._v("#")]),s._v(" 3. 上传游戏档")]),s._v(" "),e("p",[s._v("将上文中备份的游戏档上传至云服务器，位置为")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("/home/.klei/DoDoNotStarveTogether\n")])])]),e("h3",{attrs:{id:"_4-配置启动脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置启动脚本","aria-hidden":"true"}},[s._v("#")]),s._v(" 4. 配置启动脚本")]),s._v(" "),e("p",[s._v("脚本中注释的目录位置请根据个人配置自行核对更改\n"),e("code",[s._v("vim ./start.sh")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\nsteamcmd_dir"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HOME")]),s._v('/steamcmd"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# steamcmd的目录，根据个人配置更改")]),s._v("\ninstall_dir"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HOME")]),s._v('/dstserver"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 饥荒专用服务器安装目录，根据个人配置更改")]),s._v("\ncluster_name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hainan"')]),s._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 游戏档目录名称，根据个人配置更改")]),s._v("\ndontstarve_dir"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HOME")]),s._v('/.klei/DoNotStarveTogether"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 饥荒数据目录")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" fail"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" Error: "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("2\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exit")]),s._v(" 1\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" check_for_file"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -e "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n            fail "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Missing file: '),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$steamcmd_dir")]),s._v('"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" fail "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Missing '),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$steamcmd_dir")]),s._v(' directory!"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TODO")]),s._v("\n\ncheck_for_file "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"steamcmd.sh"')]),s._v("\ncheck_for_file "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dontstarve_dir")]),s._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cluster_name")]),s._v('/cluster.ini"')]),s._v("\ncheck_for_file "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dontstarve_dir")]),s._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cluster_name")]),s._v('/cluster_token.txt"')]),s._v("\ncheck_for_file "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dontstarve_dir")]),s._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cluster_name")]),s._v('/Master/server.ini"')]),s._v("\ncheck_for_file "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dontstarve_dir")]),s._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cluster_name")]),s._v('/Caves/server.ini"')]),s._v("\n\n\ncheck_for_file "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$install_dir")]),s._v('/bin"')]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$install_dir")]),s._v('/bin"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" fail \n\nrun_shared"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("./dontstarve_dedicated_server_nullrenderer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nrun_shared+"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nrun_shared+"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-cluster "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cluster_name")]),s._v('"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nrun_shared+"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-monitor_parent_process $$"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nrun_shared+"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("-shard"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${run_shared[@]}")]),s._v('"')]),s._v(" Caves  "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^/Caves:  /'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${run_shared[@]}")]),s._v('"')]),s._v(" Master "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/^/Master: /'")]),s._v("\n\n")])])]),e("h3",{attrs:{id:"_5-mod配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-mod配置","aria-hidden":"true"}},[s._v("#")]),s._v(" 5. mod配置")]),s._v(" "),e("p",[s._v("在原先新建好的档已经配置好了mod,在启动服务器时就会开始下载相应的mod，mod下载目录为"),e("code",[s._v("<专用服务器安装目录>/mods")]),s._v("，第一次启动时可以直接从本地将相应的mod文件上传至云服务器，我的本地mod文件所在目录位置为"),e("code",[s._v("D:\\steam\\steam\\steamapps\\common\\Don't Starve Together\\mods")]),s._v(" "),e("img",{staticStyle:{zoom:"67%"},attrs:{src:a(128)}}),e("br"),s._v("\n如果需要继续添加mod，可以更改mod文件配置，这里先解析一下游戏档的目录结构")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("Cluster_1\n  -Caves "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 洞穴配置文件")]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    - "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    - modoverrides.lua\n  -Master "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 地面配置文件")]),s._v("\n    - "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    - "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    - modoverrides.lua\n  -cluster.ini "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器配置文件")]),s._v("\n  -cluster_token.txt "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务器密钥")]),s._v("\n  -adminlist.txt "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#管理员名单")]),s._v("\n")])])]),e("p",[s._v("在两个"),e("code",[s._v("modoverrides.lua")]),s._v("文件中添加相应的mod项即可，如果不知道添加方法，可以新建一个带该mod的档，复制mod配置文件中的项即可")]),s._v(" "),e("h3",{attrs:{id:"_6-添加服务器密钥和管理员名单"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-添加服务器密钥和管理员名单","aria-hidden":"true"}},[s._v("#")]),s._v(" 6.添加服务器密钥和管理员名单")]),s._v(" "),e("p",[s._v("在游戏档中添加"),e("code",[s._v("cluster_token.txt")]),s._v("（服务器密钥文件），将上文备份的密钥复制进文件中\n在游戏档中添加"),e("code",[s._v("adminlist.txt")]),s._v("（管理员名单文件），将上文备份的自己的用户ID复制进文件中")]),s._v(" "),e("h3",{attrs:{id:"_7-启动服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-启动服务器","aria-hidden":"true"}},[s._v("#")]),s._v(" 7.启动服务器")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("./start.sh\n")])])]),e("p",[s._v("启动成功后可以看到"),e("code",[s._v("Sim pause")]),s._v(","),e("code",[s._v("register in xx")]),s._v("字样")])])},[],!1,null,null,null);t.default=r.exports}}]);